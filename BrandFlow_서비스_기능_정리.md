# 🚀 BrandFlow 서비스 전체 기능 정리

## 📋 목차
- [서비스 개요](#서비스-개요)
- [사용자 역할 및 권한](#사용자-역할-및-권한)
- [주요 기능 모듈](#주요-기능-모듈)
- [API 엔드포인트](#api-엔드포인트)
- [기술 스택](#기술-스택)

---

## 🎯 서비스 개요

**BrandFlow**는 브랜드 마케팅 대행사를 위한 종합 업무 관리 플랫폼입니다. 캠페인 관리부터 매출 관리, 인센티브 계산까지 마케팅 대행사의 모든 업무를 디지털화하여 효율성을 극대화합니다.

### 핵심 가치
- 📊 **통합 관리**: 캠페인, 매출, 구매요청을 하나의 플랫폼에서
- 💰 **자동화**: 인센티브 계산, 재무 분석 자동화
- 🔐 **권한 분리**: 역할별 세밀한 접근 제어
- 📈 **데이터 인사이트**: 실시간 대시보드와 성과 분석

---

## 👥 사용자 역할 및 권한

### 🔴 슈퍼 어드민 (Super Admin)
- **전체 시스템 관리**: 모든 기능과 데이터에 완전한 접근
- **시스템 설정**: 서비스 전반의 설정 변경 및 관리
- **사용자 관리**: 모든 사용자 생성/수정/삭제
- **캠페인 삭제**: 캠페인 완전 삭제 권한
- **데이터 초기화**: 시스템 설정 초기화

### 🔵 대행사 어드민 (Agency Admin)
- **대행사 운영 관리**: 본인 소속 대행사의 모든 업무
- **팀원 관리**: 직원 계정 생성/관리 (슈퍼 어드민 제외)
- **매출 승인**: 직원이 등록한 매출 검토/승인
- **구매요청 승인**: 구매요청 검토 및 승인 처리
- **인센티브 관리**: 직원 인센티브 계산 및 승인
- **시스템 설정**: 제한적인 설정 변경

### 🟢 직원 (Staff)
- **캠페인 관리**: 담당 캠페인의 운영 및 관리
- **매출 등록**: 매출 등록 (승인 필요)
- **구매요청 작성**: 필요한 구매요청 작성
- **클라이언트 관리**: 담당 클라이언트 관리
- **개인 인센티브 조회**: 본인 인센티브 현황 조회

### 🟠 클라이언트 (Client)
- **캠페인 모니터링**: 본인 캠페인 진행 상황 조회
- **콘텐츠 검토**: 주제/목차 승인 및 반려
- **제한적 접근**: 본인 관련 데이터만 열람

---

## 🏗️ 주요 기능 모듈

### 1. 📊 대시보드 (Dashboard)
#### 🎯 핵심 기능
- **실시간 KPI**: 매출, 마진, 인센티브 현황
- **캠페인 성과 분석**: 완료율, 효율성 순위
- **재무 현황**: 매출-매입-인센티브 통합 분석
- **긴급 업무 알림**: 3일 이상 대기 중인 업무

#### 📈 제공 데이터
- 진행 중인 캠페인 수
- 검토 대기 중인 콘텐츠
- 월간 완료 실적
- 평균 업무 완료 시간
- 캠페인별 성과 순위

#### 💰 재무 데이터 (관리자용)
- 총 매출: Sales + Campaign 수익
- 총 지출: 구매요청 + 캠페인 원가
- 순이익: 매출 - 지출
- 총 인센티브 지출
- 최종 순이익: 순이익 - 인센티브

### 2. 📋 캠페인 관리 (Campaign Management)
#### 🎯 핵심 기능
- **캠페인 생성/수정**: 클라이언트, 담당자, 예산 설정
- **주제 등록**: 블로그/SNS 콘텐츠 주제 관리
- **목차 등록**: 상세 목차 구조 관리
- **승인 워크플로우**: 클라이언트 승인/반려 프로세스
- **진행 상태 추적**: 실시간 진행률 모니터링

#### 📝 콘텐츠 관리
- **주제 관리**: 제목, 키워드, 승인 상태
- **목차 관리**: 세부 구조, 검토 의견
- **상태 추적**: 대기/승인/반려 상태별 관리
- **이미지 첨부**: 참고 이미지 업로드/미리보기

#### 💼 비즈니스 기능
- **계산서 관리**: 발행 상태 추적
- **입금 관리**: 입금 완료 상태 추적
- **구매요청 연동**: 캠페인별 구매요청 조회

### 3. 💰 매출 관리 (Sales Management)
#### 🎯 핵심 기능
- **매출 등록**: 상품, 클라이언트, 금액 정보
- **승인 프로세스**: 등록→검토→승인→정산 워크플로우
- **마진 계산**: 자동 마진율 및 인센티브 계산
- **문서 생성**: 거래명세서/견적서 자동 생성

#### 📊 통계 및 분석
- **매출 현황**: 총 매출, 대기, 승인 건수
- **수익 분석**: 총 매출액, 마진, 인센티브
- **기간별 필터**: 연도/월별 조회
- **카테고리별 분석**: 상품 카테고리별 분석

#### 📄 문서 기능
- **거래명세서 생성**: HTML 기반 문서 자동 생성
- **견적서 출력**: 인쇄 및 PDF 저장 지원
- **구매요청 연동**: 승인된 매출의 구매요청 자동 생성

### 4. 🛒 구매요청 관리 (Purchase Requests)
#### 🎯 핵심 기능
- **구매요청 작성**: 광고비, 제작비 등 필요 자원 요청
- **승인 워크플로우**: 대기→검토→승인→구매→정산
- **자동 원가 계산**: 캠페인 연결 시 자동 원가 반영
- **긴급 요청**: 당일 요청 특별 처리

#### 📋 요청 관리
- **리소스 타입**: 광고비, 콘텐츠 제작비, 도구 구독료 등
- **우선순위**: 낮음/보통/높음/긴급 분류
- **캠페인 연동**: 특정 캠페인과 연결
- **금액 관리**: 콤마 자동 포맷, 자동 계산

#### 📊 관리 기능
- **상태별 조회**: 승인 상태별 필터링
- **통계 대시보드**: 총 요청, 승인, 지출 현황
- **코멘트 관리**: 승인자 의견, 거절 사유

### 5. 📦 상품 관리 (Product Management)
#### 🎯 핵심 기능
- **상품 등록**: 이름, 카테고리, 원가, 판매가
- **카테고리 관리**: SNS 광고, 검색 광고, 크리에이티브 등
- **마진율 계산**: 자동 수익률 계산
- **활성 상태 관리**: 활성/비활성 전환

#### 📊 업무타입 관리
- **업무타입 설정**: 블로그, SNS, 광고 등
- **단가 설정**: 업무별 표준 단가
- **관리자 전용**: 슈퍼 어드민, 대행사 어드민만 접근

#### 🔧 설정 기능
- **SKU 관리**: 상품 코드 체계
- **단위 설정**: 건, 개, 시간 등
- **수량 제한**: 최소/최대 주문 수량
- **태그 시스템**: 검색 및 분류용 태그

### 6. 💎 월간 인센티브 관리 (Monthly Incentives)
#### 🎯 핵심 기능
- **자동 계산**: 매출 데이터 기반 인센티브 자동 산정
- **승인 프로세스**: 계산→검토→승인→지급 워크플로우
- **조정 기능**: 수동 조정 금액 반영
- **월별 관리**: 년/월별 인센티브 현황

#### 📊 계산 로직
- **인센티브 기준**: 담당 캠페인의 수익률 기반
- **인센티브율**: 직원별 개별 설정
- **자동 집계**: 월별 매출/이익 자동 집계
- **최종 금액**: 기본 인센티브 + 조정 금액

#### 👥 권한별 기능
- **직원**: 본인 인센티브만 조회
- **관리자**: 전체 직원 인센티브 관리
- **승인 권한**: 관리자급만 승인/지급 처리

### 7. 👥 사용자 관리 (User Management)
#### 🎯 핵심 기능
- **사용자 등록**: 이름, 이메일, 역할, 소속 설정
- **권한 관리**: 역할별 접근 권한 제어
- **인센티브율 설정**: 개별 직원 인센티브율 관리
- **활성 상태 관리**: 사용자 활성화/비활성화

#### 📊 탭 구분
- **팀원 관리**: 슈퍼 어드민, 대행사 어드민, 직원
- **클라이언트 관리**: 클라이언트 계정 관리
- **통계 현황**: 팀원 수, 클라이언트 수 요약

#### 🔐 권한 체계
- **계층적 권한**: 상위 역할은 하위 역할 관리 가능
- **생성 제한**: 역할별 생성 가능한 계정 유형 제한
- **수정/삭제**: 권한에 따른 관리 범위 제한

### 8. ⚙️ 시스템 설정 (System Settings)
#### 🎯 핵심 기능
- **설정 관리**: 서비스 전반의 동작 설정
- **카테고리 분류**: 인센티브, 매출, 문서, 일반
- **접근 권한**: 설정별 접근 권한 제어
- **실시간 적용**: 설정 변경 즉시 반영

#### 🔧 설정 유형
- **Boolean**: 기능 활성화/비활성화
- **Number**: 수치 설정 (백분율, 한도 등)
- **Text**: 문자열 설정
- **JSON**: 복잡한 구조체 설정

#### 📋 주요 설정들
- **인센티브 표시 설정**: 역할별 인센티브 정보 노출 여부
- **문서 자동 생성**: 매출 등록 시 문서 생성 옵션
- **승인 워크플로우**: 각 모듈별 승인 단계 설정
- **알림 설정**: 각종 알림 발송 여부

---

## 🌐 API 엔드포인트

### 🔐 인증 (Authentication)
```
POST /api/auth/login          # 로그인
POST /api/auth/logout         # 로그아웃
GET  /api/auth/me            # 현재 사용자 정보
```

### 👥 사용자 관리 (Users)
```
GET    /api/users                    # 사용자 목록 조회
POST   /api/users                    # 사용자 생성
GET    /api/users/:id                # 사용자 상세 조회
PUT    /api/users/:id                # 사용자 정보 수정
DELETE /api/users/:id                # 사용자 삭제
```

### 📋 캠페인 (Campaigns)
```
GET    /api/campaigns                # 캠페인 목록
POST   /api/campaigns                # 캠페인 생성
GET    /api/campaigns/:id            # 캠페인 상세
PUT    /api/campaigns/:id            # 캠페인 수정
DELETE /api/campaigns/:id            # 캠페인 삭제
GET    /api/campaigns/:id/financial-summary  # 재무 요약
```

### 💰 매출 관리 (Sales)
```
GET    /api/sales                    # 매출 목록
POST   /api/sales                    # 매출 등록
PUT    /api/sales/:id                # 매출 수정
DELETE /api/sales/:id                # 매출 삭제
GET    /api/sales/summary/stats      # 매출 통계
POST   /api/sales/:id/create-purchase-request  # 구매요청 생성
```

### 🛒 구매요청 (Purchase Requests)
```
GET    /api/purchase-requests        # 구매요청 목록
POST   /api/purchase-requests        # 구매요청 작성
PUT    /api/purchase-requests/:id    # 구매요청 수정
DELETE /api/purchase-requests/:id    # 구매요청 삭제
GET    /api/purchase-requests/summary/stats  # 구매요청 통계
```

### 📦 상품 관리 (Products)
```
GET    /api/products                 # 상품 목록
POST   /api/products                 # 상품 등록
PUT    /api/products/:id             # 상품 수정
DELETE /api/products/:id             # 상품 삭제
GET    /api/products/categories/list # 카테고리 목록
```

### 🔧 업무타입 (Work Types)
```
GET    /api/work-types               # 업무타입 목록
POST   /api/work-types               # 업무타입 생성
GET    /api/work-types/manage        # 관리용 업무타입 목록
```

### 💎 월간 인센티브 (Monthly Incentives)
```
GET    /api/monthly-incentives       # 인센티브 목록
POST   /api/monthly-incentives/calculate      # 인센티브 계산
PUT    /api/monthly-incentives/:id   # 인센티브 상태 변경
GET    /api/monthly-incentives/summary/stats  # 인센티브 통계
```

### ⚙️ 시스템 설정 (System Settings)
```
GET    /api/system-settings          # 설정 목록
PUT    /api/system-settings/:key     # 설정 변경
POST   /api/system-settings/initialize       # 기본 설정 초기화
GET    /api/system-settings/public/incentive-settings  # 공개 설정
```

### 🔔 알림 (Notifications)
```
GET    /api/notifications            # 알림 목록
GET    /api/notifications/unread-count       # 미읽음 수
PUT    /api/notifications/read-all   # 모든 알림 읽음 처리
```

---

## 🛠️ 기술 스택

### Frontend
- **React 18**: 최신 React 기능 활용
- **JavaScript ES6+**: 모던 JavaScript 문법
- **Tailwind CSS**: 유틸리티 퍼스트 CSS 프레임워크
- **Lucide Icons**: 아이콘 라이브러리
- **Axios**: HTTP 클라이언트
- **React Router**: SPA 라우팅

### Backend Integration
- **RESTful API**: REST 방식 API 통신
- **JWT Authentication**: JSON Web Token 기반 인증
- **권한 기반 접근 제어**: Role-based access control
- **자동 재시도**: 네트워크 오류 시 자동 재시도
- **에러 핸들링**: 체계적인 에러 처리

### 데이터 관리
- **Context API**: 전역 상태 관리
- **LocalStorage**: 로그인 정보 유지
- **실시간 동기화**: API 기반 데이터 동기화
- **낙관적 업데이트**: 사용자 경험 향상

### UI/UX 특징
- **반응형 디자인**: 모바일/데스크톱 대응
- **다크 모드**: 사용자 선호도 지원 (예정)
- **접근성**: 키보드 네비게이션, 스크린 리더 지원
- **로딩 상태**: 사용자 피드백 시스템
- **에러 상태**: 친화적인 에러 메시지

---

## 🔄 워크플로우

### 일반적인 업무 흐름
1. **캠페인 생성** → 클라이언트 및 담당자 지정
2. **주제 등록** → 블로그/SNS 콘텐츠 주제 등록
3. **클라이언트 검토** → 주제 승인/반려
4. **목차 등록** → 승인된 주제의 상세 목차 작성
5. **최종 승인** → 클라이언트 최종 승인
6. **콘텐츠 제작** → 실제 콘텐츠 제작 (외부)
7. **매출 등록** → 완료된 작업의 매출 등록
8. **구매요청** → 필요 시 관련 비용 구매요청
9. **정산** → 월말 인센티브 계산 및 지급

### 권한별 주요 업무
- **슈퍼 어드민**: 전체 시스템 관리, 설정 변경
- **대행사 어드민**: 팀 운영, 매출/구매 승인
- **직원**: 캠페인 운영, 매출 등록, 클라이언트 관리
- **클라이언트**: 콘텐츠 검토, 승인/반려

---

## 📈 향후 개발 계획

### 단기 계획 (1-3개월)
- 📱 모바일 앱 개발
- 📊 고급 분석 대시보드
- 🔔 실시간 알림 시스템
- 📄 다양한 문서 템플릿

### 중기 계획 (3-6개월)
- 🤖 AI 기반 콘텐츠 추천
- 📧 이메일/슬랙 연동
- 💳 결제 시스템 연동
- 🔄 외부 툴 API 연동

### 장기 계획 (6개월+)
- 🌐 멀티테넌트 아키텍처
- 📱 PWA (Progressive Web App)
- 🔍 고급 검색 및 필터링
- 📊 비즈니스 인텔리전스 도구

---

## 💡 핵심 차별화 요소

1. **올인원 플랫폼**: 마케팅 대행사의 모든 업무를 하나의 플랫폼에서
2. **자동화된 계산**: 복잡한 인센티브, 마진 계산을 자동화
3. **역할 기반 권한**: 세밀한 권한 제어로 보안과 효율성 동시 확보
4. **실시간 협업**: 클라이언트와 실시간 소통 및 피드백
5. **데이터 기반 의사결정**: 풍부한 분석 데이터 제공
6. **확장 가능한 구조**: 다양한 업체 요구사항에 맞는 커스터마이징

---

*이 문서는 BrandFlow 서비스의 현재 개발 상태를 기반으로 작성되었으며, 지속적으로 업데이트됩니다.*

**마지막 업데이트**: 2025년 8월 18일